
<div class="py-md-3">
  <a class="btn btn-primary btn-lg" [routerLink]="['./addProduct']">
    {{ 'app.NEW' | translate }}
  </a>
</div>
<div class="input-group mb-3">
  <input type="text" class="form-control" aria-label="Text input with dropdown button"
  name="search" [(ngModel)]="productName" autocomplete="off" placeholder="Search by product name"
  (input)="search()">
  <div class="input-group-append">
      <select class="form-control btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false" name="id" [(ngModel)]="cat.id" (ngModelChange)="searchCategory()">
          <option value="" selected>All Categories</option>
          <option *ngFor="let category of categoryNames"  [ngValue]="category.id">
              {{category.categoryName}}
          </option>
        </select>
  </div>
</div>
<app-panel [loading]="loading">
  <div class="table-responsive">
    <table class="table table-striped table-bordered" appTablesort (sort)="sort($event)">
      <thead>
        <tr>
          <th appTablesortCol="productName">{{ 'products.PRODUCTNAME' | translate }}</th>
          <th appTablesortCol="description">{{ 'products.DESCRIPTION' | translate }}</th>
          <th appTablesortCol="price">{{ 'products.PRICE' | translate }}</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of page?.items">
          <td>{{ item.productName }}</td>
          <td>{{ item.description}}</td>
          <td>{{ item.price }}</td>
          <td class="table-actions">
            <button type="button" class="btn btn-danger" (click)="delete(item)">
              <i class="far fa-trash-alt"></i>
              {{ 'app.REMOVE' | translate }}
            </button>
            <a [routerLink]="['./editProduct/', item.id]" class="btn btn-info">
              <i class="fas fa-pencil-alt"></i>
              {{ 'app.EDIT' | translate }}
            </a>
            <a [routerLink]="['./productInfo/', item.id]" class="btn btn-info">
              <i class="far fa-question-circle"></i>
              Info
            </a>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="6">
            <app-pagination [page]="page" (pageChange)="getCategoriesPage($event)"></app-pagination>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
</app-panel>